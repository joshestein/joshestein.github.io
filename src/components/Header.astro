---
import Container from "@components/Container.astro";
import Link from "@components/Link.astro";
import { SITE } from "@constants";

const { pathname } = Astro.url;
const isActive = (path: string) =>
  path === "/" ? pathname === "/" : pathname.startsWith(path);

const navLinks = [
  { href: "/now", label: "now" },
  { href: "/work", label: "work" },
  { href: "/projects", label: "projects" },
  { href: "/blog", label: "blog" },
];
---

<header>
  <Container class="flex flex-wrap justify-between gap-y-2">
    <Link href="/" underline={false}>
      <div class="font-semibold text-accent">
        {SITE.NAME}
      </div>
    </Link>
    <nav class="flex gap-1">
      <div class="hidden sm:block">
        <span class={isActive("/") ? "text-accent" : ""}>
          <Link href="/"> home</Link>
        </span>
        <span>/</span>
      </div>
      {navLinks.map((link, i) => (
        <>
          <span class={isActive(link.href) ? "text-accent" : ""}>
            <Link href={link.href}> {link.label}</Link>
          </span>
          {i < navLinks.length - 1 && <span>/</span>}
        </>
      ))}
    </nav>
  </Container>
</header>
